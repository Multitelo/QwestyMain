import '../assets/css/style.css';
import Home from './Home'
import Logo from '../assets/images/Logo.png';
import arrow from '../assets/images/down-arrow.png'
import {FaBars, FaTimes} from "react-icons/fa"
import { Routes, Route, Link } from "react-router-dom"
import { useState, useEffect, useRef } from 'react';
function Header() {
    
    const navRef = useRef();
    const [barClicked, setBarClicked]= useState(false)
    const [windowWidth, setWindowWidth] = useState(window.innerWidth);

   
   
    const showNavbar= () =>{
      navRef.current.classList.toggle("responsive_nav")
      // navRef.current.classList.remove("responsive_nav")

    }

    const closeAnswers = () => {
      // Close the dropdown bar in small devices when the window is scrolled
     setBarClicked(false);
    };

    useEffect(()=>{
     
      document.addEventListener("scroll", closeAnswers);
      return () => {
        document.removeEventListener("scroll", closeAnswers);
      };

      
    })

    useEffect(() => {
    const handleResize = () => {
      setWindowWidth(window.innerWidth);
    };

    window.addEventListener('resize', handleResize);

    return () => {
      window.removeEventListener('resize', handleResize);
    };
  }, []); 
  
  return (
    <>
       <header>
        <h1><img src={Logo}/></h1>
        <nav ref={navRef}>
            <Link to='/'className='items' id="first-item">about us</Link>
            <Link to='/'className='items' id="second-item">contact us</Link>
            <Link to='/'className='items' id="third-item">services<img src={arrow} id="arrow"/></Link>
            <Link to='/'className='items' id="fourth-item">join waitlist</Link>
            <button onClick={showNavbar}
                    className='nav-btn nav-close-btn'>
              <FaTimes/>
            </button>
        </nav>
        <button onClick={showNavbar}
                 className='nav-btn'>
          <FaBars/>
        </button>
      
       </header>
   

  
        <Routes>
            <Route path='/' element={<Home/>}></Route>
        </Routes>
        </>
  )
}
export default Header


header {
	display: flex;
	align-items: center;
	justify-content: space-between;
	height: 80px;
	padding: 0 2rem;
	background-color: var(--mainColor);
	color: var(--textColor);
}

nav .items {
	margin: 0 1rem;
	color: var(--textColor);
	text-decoration: none;
}

nav .items:hover {
	color: var(--secondaryColor);
}

header .nav-btn {
	padding: 5px;
	cursor: pointer;
	background: transparent;
	border: none;
	outline: none;
	color: var(--textColor);
	visibility: hidden;
	opacity: 0;
	font-size: 1.8rem;
}

header div,
nav {
	display: flex;
	align-items: center;
}

@media only screen and (max-width: 1024px) {
	header .nav-btn {
		visibility: visible;
		opacity: 1;
	}

	header nav {
		position: fixed;
		top: -100vh;
		left: 0;
		height: 100%;
		width: 100%;
		display: flex;
		flex-direction: column;
		align-items: center;
		justify-content: center;
		gap: 1.5rem;
		background-color: var(--mainColor);
		transition: 1s;
	}

	header .responsive_nav {
		transform: translateY(100vh);
	}

	nav .nav-close-btn {
		position: absolute;
		top: 2rem;
		right: 2rem;
	}

	nav .items {
		font-size: 1.5rem;
	}
}